////////////////////////////////////////////////////////////////////////////////
//  PLUGIN CONFIGURATION
////////////////////////////////////////////////////////////////////////////////
plugins {
    id "io.ratpack.ratpack-groovy" version "0.9.10"
}

apply plugin: 'groovy'
////////////////////////////////////////////////////////////////////////////////

version = '0.1.1'
group = 'offtopic'
description =' Offtopic is a simple web application built with Ratpack for inspecting and consuming events from Kafka.'
sourceCompatibility = '1.8'
targetCompatibility = '1.8'


////////////////////////////////////////////////////////////////////////////////
//  DEPENDENCY AND REPOSITORY MANAGEMENT
////////////////////////////////////////////////////////////////////////////////
repositories {
    mavenLocal()

    jcenter()
    mavenCentral()
}

dependencies {
    compile 'io.ratpack:ratpack-handlebars:0.9.10+'
    compile 'io.ratpack:ratpack-jackson:0.9.10+'
    compile 'io.ratpack:ratpack-codahale-metrics:0.9.10+'
    compile localGroovy()

    /* Needed for discovering brokers and all kinds of other things in
     * Zookeeeper
     */
    compile 'org.apache.curator:curator-framework:2.7.0+'
    compile 'org.apache.commons:commons-pool2:2.2+'

    compile 'org.apache.kafka:kafka_2.10:0.8.1.1+'

    compile 'org.slf4j:log4j-over-slf4j:1.7.6'
    compile 'org.slf4j:slf4j-simple:1.7.6'

    testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'
    testCompile 'cglib:cglib-nodep:2.2.+'
}
////////////////////////////////////////////////////////////////////////////////

configurations {
    compile.exclude module: 'log4j'
    compile.exclude module: 'slf4j-log4j12'
}

test {
    testLogging {
        events "passed", "skipped", "failed", "standardOut", "standardError"
    }
}
